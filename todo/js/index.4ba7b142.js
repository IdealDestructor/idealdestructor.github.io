(function(){"use strict";var t={68:function(t,e,n){var o=n(7195),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("📝 TODO")]),t._v(" | "),e("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/tomato"}},[t._v("番茄钟 🍅")])],1),e("router-view")],1)},l=[],a=n(1001),s={},r=(0,a.Z)(s,i,l,!1,null,null,null),u=r.exports,d=n(2241),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"todo"},[e("div",{attrs:{id:"todoList"}},[e("div",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddClick.apply(null,arguments)}}},[e("el-autocomplete",{ref:"input",staticStyle:{width:"100%"},attrs:{"popper-class":"my-autocomplete","fetch-suggestions":t.querySearch,placeholder:"请输入内容，按回车键确认"},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function({item:n}){return[e("div",{staticClass:"name"},[t._v(t._s(n.value))])]}}]),model:{value:t.newTodo,callback:function(e){t.newTodo=e},expression:"newTodo"}},[e("i",{staticClass:"el-icon-plus el-input__icon",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:t.handleAddClick},slot:"suffix"})])],1),e("div",[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.todoList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{label:"待办事项"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isDone?e("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(n.row.content))]):e("span",[t._v(t._s(n.row.content))])]}}])}),e("el-table-column",{attrs:{label:"操作",width:"90"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.handleEdit(n.$index,n.row)}}},[t._v("编辑")]),e("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"mini"},on:{click:function(e){return t.handleDelete(n.row)}}},[t._v("删除")])]}}])})],1),e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("p",[e("span",[t._v("已完成 ")]),e("a",{staticStyle:{color:"#5cbb7a"}},[t._v(t._s(t.finishNum))]),e("span",[t._v(" / 全部 ")]),e("a",{staticStyle:{color:"#8896b3"}},[t._v(t._s(t.allNum))])]),e("div",[e("el-button",{attrs:{size:"small",circle:"",type:"success"},on:{click:function(e){t.dialogVisible=!0}}},[e("i",{staticClass:"el-icon-star-off"})]),e("el-button",{attrs:{size:"small",circle:"",type:"warning"},on:{click:function(e){t.signDialogVisible=!0}}},[e("i",{staticClass:"el-icon-edit"})]),e("el-button",{attrs:{size:"small",circle:"",type:"danger"},on:{click:t.delTodo}},[e("i",{staticClass:"el-icon-delete"})])],1)]),e("el-dialog",{attrs:{title:"编辑待办",visible:t.centerDialogVisible,width:"300px"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[e("el-input",{ref:"nowInput",attrs:{placeholder:"请输入新的内容"},model:{value:t.nowContent,callback:function(e){t.nowContent=e},expression:"nowContent"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleUpdateClick}},[t._v("确 定")])],1)],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"timer"}}),e("div",{attrs:{id:"buttons"}},[e("el-button",{attrs:{circle:"",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[e("i",{staticClass:"el-icon-star-off"})]),t._v("   "),e("el-button",{attrs:{circle:"",type:"info"},on:{click:function(e){t.signDialogVisible=!0}}},[e("i",{staticClass:"el-icon-user"})])],1),e("el-dialog",{attrs:{title:"常用待办",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.suggestTodo}},[e("el-table-column",{attrs:{prop:"value",label:"待办模版"}}),e("el-table-column",{attrs:{label:"操作",width:"90"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleEditRow(n.row)}}},[t._v("编辑")]),e("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleDeleteRow(n.row)}}},[t._v("删除")])]}}])})],1)],1),e("el-dialog",{attrs:{center:!1,title:"自定义待办模版",width:"400px",visible:t.signDialogVisible},on:{"update:visible":function(e){t.signDialogVisible=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules}},[e("el-form-item",{attrs:{prop:"value"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.ruleForm.value,callback:function(e){t.$set(t.ruleForm,"value",e)},expression:"ruleForm.value"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存模版")])],1)],1)],1)],1)},f=[],h=(n(7658),n(408)),g={name:"todoList",data(){return{suggestTodo:[{value:"读一本书",uuid:"djsadnadkad2123123"},{value:"看一部电影",uuid:"cccmkemff334232"},{value:"学习一门新技术",uuid:"dedd2wdwdw"},{value:"锻炼半个小时",uuid:"fdsfwfefwef999"},{value:"去看海",uuid:"ccdccce3313"}],centerDialogVisible:!1,nowContent:"",newTodo:"",dialogVisible:!1,signDialogVisible:!1,ruleForm:{value:"",uuid:""},rules:{value:[{required:!0,message:"请填写待办模版"}]}}},computed:{...(0,h.Se)(["allNum","finishNum"]),...(0,h.rn)(["todoList","flag"])},methods:{...(0,h.nv)(["handleUpdate","handleDelete","handleAdd","toggleSelection","handleSelectionChanged","initTodo","handleMounted"]),delTodo(){this.$confirm("是否确认删除已完成事项？","清空已完成事项",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.toggleSelection(),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},submitForm(t){this.$refs[t].validate((t=>{if(!t)return this.$message({type:"error",message:"自定义模版不能为空"}),!1;{let t=this.suggestTodo.findIndex((t=>t.uuid==this.ruleForm.uuid));t>-1?this.suggestTodo[t].value=this.ruleForm.value:this.suggestTodo.push({value:this.ruleForm.value,uuid:this.generateUUID()}),window.localStorage.setItem("suggestTodo",JSON.stringify(this.suggestTodo)),this.$message({type:"success",message:"保存成功!"}),this.signDialogVisible=!1,this.ruleForm={value:"",uuid:""}}}))},resetForm(t){this.$refs[t].resetFields()},handleEditRow(t){this.ruleForm.uuid=t.uuid,this.ruleForm.value=t.value,this.signDialogVisible=!0},handleDeleteRow(t){this.$confirm("是否确认删除该模版？","删除模版",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.suggestTodo=this.suggestTodo.filter((e=>e!=t)),window.localStorage.setItem("suggestTodo",JSON.stringify(this.suggestTodo)),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange(t){this.handleSelectionChanged(t)},handleAddClick(){if(this.newTodo.trim()){let t={content:this.newTodo,isDone:!1,uuid:this.generateUUID()};this.handleAdd(t)}this.newTodo=""},handleUpdateClick(){this.nowContent.trim()&&(this.handleUpdate({nowContent:this.nowContent,nowContentID:this.nowContentID}),this.centerDialogVisible=!1)},handleEdit(t,e){this.centerDialogVisible=!0,this.nowContentID=e.uuid,this.nowContent=e.content},saveToLocalStorage(){var t=this.todoList.map((t=>({content:t.content,isDone:!!t.isDone,uuid:t.uuid?t.uuid:this.generateUUID()})));window.localStorage.setItem("todoStore",JSON.stringify(t))},generateUUID(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)}));return e},querySearch(t,e){var n=this.suggestTodo,o=t?n.filter(this.createFilter(t)):n;e(o)},createFilter(t){return e=>0===e.value.toLowerCase().indexOf(t.toLowerCase())},handleSelect(t){console.log(t),this.handleAddClick()},handleIconClick(t){console.log(t)}},beforeMount(){let t=window.localStorage.getItem("todoStore")?JSON.parse(window.localStorage.getItem("todoStore")):[];this.initTodo(t)},mounted(){this.todoList.length>0&&this.todoList.map((t=>{t.isDone&&this.$refs.multipleTable.toggleRowSelection(t,!0)})),this.suggestTodo=window.localStorage.getItem("suggestTodo")?JSON.parse(window.localStorage.getItem("suggestTodo")):this.suggestTodo,this.handleMounted()},updated(){this.saveToLocalStorage()}},m=g,p=(0,a.Z)(m,c,f,!1,null,null,null),v=p.exports;o["default"].use(d.ZP);const b=[{path:"/",name:"todo",component:v},{path:"/tomato",name:"tomato",component:()=>n.e(461).then(n.bind(n,3461))}],w=new d.ZP({base:"",routes:b});var y=w;o["default"].use(h.ZP);const x=new h.ZP.Store({state:{todoList:[],flag:!1},getters:{allNum:t=>t.todoList.length,undo:t=>t.todoList.filter((t=>!1===t.isDone)),finishNum:t=>t.todoList.filter((t=>!0===t.isDone)).length},mutations:{update(t,e){t.todoList=e},delete(t,e){t.todoList=t.todoList.filter((t=>t.uuid!=e.uuid))},add(t,e){t.todoList.push(e)},done(t,e){console.log(e),t.todoList.map((t=>(e.findIndex((e=>e.uuid==t.uuid))>-1?t.isDone=!0:t.isDone=!1,t)))},flag(t,e){t.flag=e}},actions:{initTodo({commit:t},e){t("update",e)},async handleUpdate({commit:t,state:e},{nowContent:n,nowContentID:o}){await t("flag",!1);let i=e.todoList.map((t=>(t.uuid==o&&(t.content=n),t)));await t("update",i),await t("flag",!0)},async handleDelete({commit:t},e){await t("flag",!1),await t("delete",e),await t("flag",!0)},handleAdd({commit:t},e){t("add",e)},toggleSelection({commit:t,getters:e}){t("update",e.undo)},handleSelectionChanged({commit:t,state:e},n){e.flag&&t("done",n)},handleMounted({commit:t}){t("flag",!0)}}});var S=x,C=n(5114),k=n.n(C),_=function(){var t=this;t._self._c;return t._m(0)},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading-area"},[e("div",{staticClass:"loading-box"},[e("div",{staticClass:"loading"})])])}],D={},L=D,O=(0,a.Z)(L,_,T,!1,null,"207c3606",null),F=O.exports;const N=o["default"].extend(F),I=new N;I.$mount(),o["default"].directive("loadings",{inserted(t,e){e.value&&t.appendChild(I.$el)},update(t,e){e.value?t.appendChild(I.$el):document.body.contains(I.$el)&&t.removeChild(I.$el)}}),o["default"].use(k()),o["default"].config.productionTip=!1,new o["default"]({router:y,store:S,render:t=>t(u)}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var l=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,o,i,l){if(!o){var a=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],l=t[d][2];for(var s=!0,r=0;r<o.length;r++)(!1&l||a>=l)&&Object.keys(n.O).every((function(t){return n.O[t](o[r])}))?o.splice(r--,1):(s=!1,l<a&&(a=l));if(s){t.splice(d--,1);var u=i();void 0!==u&&(e=u)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[o,i,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,o){return n.f[o](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+".41910437.js"}}(),function(){n.miniCssF=function(t){return"css/"+t+".26d532c2.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="4-todo:";n.l=function(o,i,l,a){if(t[o])t[o].push(i);else{var s,r;if(void 0!==l)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==e+l){s=c;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+l),s.src=o),t[o]=[i];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var i=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,o,i){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var a=function(n){if(l.onerror=l.onload=null,"load"===n.type)o();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||e,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=a,r.request=s,l.parentNode&&l.parentNode.removeChild(l),i(r)}};return l.onerror=l.onload=a,l.href=e,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l),l},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===t||l===e))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],l=i.getAttribute("data-href");if(l===t||l===e)return i}},o=function(o){return new Promise((function(i,l){var a=n.miniCssF(o),s=n.p+a;if(e(a,s))return i();t(o,s,null,i,l)}))},i={826:0};n.f.miniCss=function(t,e){var n={461:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=o(t).then((function(){i[t]=0}),(function(e){throw delete i[t],e})))}}}(),function(){var t={826:0};n.f.j=function(e,o){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)o.push(i[2]);else{var l=new Promise((function(n,o){i=t[e]=[n,o]}));o.push(i[2]=l);var a=n.p+n.u(e),s=new Error,r=function(o){if(n.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var l=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+l+": "+a+")",s.name="ChunkLoadError",s.type=l,s.request=a,i[1](s)}};n.l(a,r,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,l,a=o[0],s=o[1],r=o[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(r)var d=r(n)}for(e&&e(o);u<a.length;u++)l=a[u],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(d)},o=self["webpackChunk_4_todo"]=self["webpackChunk_4_todo"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(68)}));o=n.O(o)})();
//# sourceMappingURL=index.4ba7b142.js.map