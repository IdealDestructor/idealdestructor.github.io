(function(){"use strict";var e={1553:function(e,t,n){var o=n(7195),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("nav",[t("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[e._v("📝 TODO")]),e._v(" | "),t("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/tomato"}},[e._v("番茄钟 🍅")])],1),t("router-view")],1)},l=[],a=n(1001),s={},r=(0,a.Z)(s,i,l,!1,null,null,null),u=r.exports,d=n(2241),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"todo"},[t("div",{attrs:{id:"todoList"}},[t("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleAddClick.apply(null,arguments)}}},[t("el-autocomplete",{ref:"input",staticStyle:{width:"100%"},attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.querySearch,placeholder:"请输入内容，按回车键确认"},on:{select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function({item:n}){return[t("div",{staticClass:"name"},[e._v(e._s(n.value))])]}}]),model:{value:e.newTodo,callback:function(t){e.newTodo=t},expression:"newTodo"}},[t("i",{staticClass:"el-icon-plus el-input__icon",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:e.handleAddClick},slot:"suffix"})])],1),t("div",[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.todoList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"待办事项"},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row.isDone?t("span",{staticStyle:{"text-decoration":"line-through"}},[e._v(e._s(n.row.content))]):t("span",[e._v(e._s(n.row.content))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"90"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.handleEdit(n.$index,n.row)}}},[e._v("编辑")]),t("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.handleDelete(n.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[t("p",[t("span",[e._v("已完成 ")]),t("a",{staticStyle:{color:"#5cbb7a"}},[e._v(e._s(e.finishNum))]),t("span",[e._v(" / 全部 ")]),t("a",{staticStyle:{color:"#8896b3"}},[e._v(e._s(e.allNum))])]),t("div",[t("el-button",{attrs:{size:"small",circle:"",type:"success"},on:{click:function(t){e.dialogVisible=!0}}},[t("i",{staticClass:"el-icon-star-off"})]),t("el-button",{attrs:{size:"small",circle:"",type:"warning"},on:{click:function(t){e.signDialogVisible=!0}}},[t("i",{staticClass:"el-icon-edit"})]),t("el-button",{attrs:{size:"small",circle:"",type:"danger"},on:{click:e.delTodo}},[t("i",{staticClass:"el-icon-delete"})])],1)]),t("el-dialog",{attrs:{title:"编辑待办",visible:e.centerDialogVisible,width:"300px"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[t("el-input",{ref:"nowInput",attrs:{placeholder:"请输入新的内容"},model:{value:e.nowContent,callback:function(t){e.nowContent=t},expression:"nowContent"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateClick}},[e._v("确 定")])],1)],1)],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"timer"}}),t("el-dialog",{attrs:{title:"常用待办",visible:e.dialogVisible,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.suggestTodo}},[t("el-table-column",{attrs:{prop:"value",label:"待办模版"}}),t("el-table-column",{attrs:{label:"操作",width:"90"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleEditRow(n.row)}}},[e._v("编辑")]),t("el-button",{staticStyle:{color:"#f56c6c"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDeleteRow(n.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{center:!1,title:"自定义待办模版",width:"400px",visible:e.signDialogVisible},on:{"update:visible":function(t){e.signDialogVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{prop:"value"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.ruleForm.value,callback:function(t){e.$set(e.ruleForm,"value",t)},expression:"ruleForm.value"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存模版")])],1)],1)],1)],1)},f=[],h=(n(7658),n(408)),g={name:"todoList",data(){return{suggestTodo:[{value:"读一本书",uuid:"djsadnadkad2123123"},{value:"看一部电影",uuid:"cccmkemff334232"},{value:"学习一门新技术",uuid:"dedd2wdwdw"},{value:"锻炼半个小时",uuid:"fdsfwfefwef999"},{value:"去看海",uuid:"ccdccce3313"}],centerDialogVisible:!1,nowContent:"",newTodo:"",dialogVisible:!1,signDialogVisible:!1,ruleForm:{value:"",uuid:""},rules:{value:[{required:!0,message:"请填写待办模版"}]}}},computed:{...(0,h.Se)(["allNum","finishNum"]),...(0,h.rn)(["todoList","flag"])},methods:{...(0,h.nv)(["handleUpdate","handleDelete","handleAdd","toggleSelection","handleSelectionChanged","initTodo","handleMounted"]),delTodo(){this.$confirm("是否确认删除已完成事项？","清空已完成事项",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.toggleSelection(),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message({type:"error",message:"自定义模版不能为空"}),!1;{let e=this.suggestTodo.findIndex((e=>e.uuid==this.ruleForm.uuid));e>-1?this.suggestTodo[e].value=this.ruleForm.value:this.suggestTodo.push({value:this.ruleForm.value,uuid:this.generateUUID()}),window.localStorage.setItem("suggestTodo",JSON.stringify(this.suggestTodo)),this.$message({type:"success",message:"保存成功!"}),this.signDialogVisible=!1,this.ruleForm={value:"",uuid:""}}}))},resetForm(e){this.$refs[e].resetFields()},handleEditRow(e){this.ruleForm.uuid=e.uuid,this.ruleForm.value=e.value,this.signDialogVisible=!0},handleDeleteRow(e){this.$confirm("是否确认删除该模版？","删除模版",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.suggestTodo=this.suggestTodo.filter((t=>t!=e)),window.localStorage.setItem("suggestTodo",JSON.stringify(this.suggestTodo)),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange(e){this.handleSelectionChanged(e)},handleAddClick(){if(this.newTodo.trim()){let e={content:this.newTodo,isDone:!1,uuid:this.generateUUID()};this.handleAdd(e)}this.newTodo=""},handleUpdateClick(){this.nowContent.trim()&&(this.handleUpdate({nowContent:this.nowContent,nowContentID:this.nowContentID}),this.centerDialogVisible=!1)},handleEdit(e,t){this.centerDialogVisible=!0,this.nowContentID=t.uuid,this.nowContent=t.content},saveToLocalStorage(){var e=this.todoList.map((e=>({content:e.content,isDone:!!e.isDone,uuid:e.uuid?e.uuid:this.generateUUID()})));window.localStorage.setItem("todoStore",JSON.stringify(e))},generateUUID(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}));return t},querySearch(e,t){var n=this.suggestTodo,o=e?n.filter(this.createFilter(e)):n;t(o)},createFilter(e){return t=>0===t.value.toLowerCase().indexOf(e.toLowerCase())},handleSelect(e){console.log(e),this.handleAddClick()},handleIconClick(e){console.log(e)}},beforeMount(){let e=window.localStorage.getItem("todoStore")?JSON.parse(window.localStorage.getItem("todoStore")):[];this.initTodo(e)},mounted(){this.todoList.length>0&&this.todoList.map((e=>{e.isDone&&this.$refs.multipleTable.toggleRowSelection(e,!0)})),this.suggestTodo=window.localStorage.getItem("suggestTodo")?JSON.parse(window.localStorage.getItem("suggestTodo")):this.suggestTodo,this.handleMounted()},updated(){this.saveToLocalStorage()}},m=g,p=(0,a.Z)(m,c,f,!1,null,null,null),v=p.exports;o["default"].use(d.ZP);const w=[{path:"/",name:"todo",component:v},{path:"/tomato",name:"tomato",component:()=>n.e(461).then(n.bind(n,3461))}],b=new d.ZP({base:"",routes:w});var y=b;o["default"].use(h.ZP);const x=new h.ZP.Store({state:{todoList:[],flag:!1},getters:{allNum:e=>e.todoList.length,undo:e=>e.todoList.filter((e=>!1===e.isDone)),finishNum:e=>e.todoList.filter((e=>!0===e.isDone)).length},mutations:{update(e,t){e.todoList=t},delete(e,t){e.todoList=e.todoList.filter((e=>e.uuid!=t.uuid))},add(e,t){e.todoList.push(t)},done(e,t){console.log(t),e.todoList.map((e=>(t.findIndex((t=>t.uuid==e.uuid))>-1?e.isDone=!0:e.isDone=!1,e)))},flag(e,t){e.flag=t}},actions:{initTodo({commit:e},t){e("update",t)},async handleUpdate({commit:e,state:t},{nowContent:n,nowContentID:o}){await e("flag",!1);let i=t.todoList.map((e=>(e.uuid==o&&(e.content=n),e)));await e("update",i),await e("flag",!0)},async handleDelete({commit:e},t){await e("flag",!1),await e("delete",t),await e("flag",!0)},handleAdd({commit:e},t){e("add",t)},toggleSelection({commit:e,getters:t}){e("update",t.undo)},handleSelectionChanged({commit:e,state:t},n){t.flag&&e("done",n)},handleMounted({commit:e}){e("flag",!0)}}});var S=x,C=n(5114),k=n.n(C),_=function(){var e=this;e._self._c;return e._m(0)},T=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-area"},[t("div",{staticClass:"loading-box"},[t("div",{staticClass:"loading"})])])}],D={},L=D,O=(0,a.Z)(L,_,T,!1,null,"207c3606",null),F=O.exports;const N=o["default"].extend(F),I=new N;I.$mount(),o["default"].directive("loadings",{inserted(e,t){t.value&&e.appendChild(I.$el)},update(e,t){t.value?e.appendChild(I.$el):document.body.contains(I.$el)&&e.removeChild(I.$el)}}),o["default"].use(k()),o["default"].config.productionTip=!1,new o["default"]({router:y,store:S,render:e=>e(u)}).$mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,i,l){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],l=e[d][2];for(var s=!0,r=0;r<o.length;r++)(!1&l||a>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(s=!1,l<a&&(a=l));if(s){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,i,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".2933935b.js"}}(),function(){n.miniCssF=function(e){return"css/"+e+".26d532c2.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="4-todo:";n.l=function(o,i,l,a){if(e[o])e[o].push(i);else{var s,r;if(void 0!==l)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+l){s=c;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+l),s.src=o),e[o]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,i){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var a=function(n){if(l.onerror=l.onload=null,"load"===n.type)o();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=a,r.request=s,l.parentNode&&l.parentNode.removeChild(l),i(r)}};return l.onerror=l.onload=a,l.href=t,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===e||l===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],l=i.getAttribute("data-href");if(l===e||l===t)return i}},o=function(o){return new Promise((function(i,l){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return i();e(o,s,null,i,l)}))},i={826:0};n.f.miniCss=function(e,t){var n={461:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={826:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var l=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=l);var a=n.p+n.u(t),s=new Error,r=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var l=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+l+": "+a+")",s.name="ChunkLoadError",s.type=l,s.request=a,i[1](s)}};n.l(a,r,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,l,a=o[0],s=o[1],r=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(r)var d=r(n)}for(t&&t(o);u<a.length;u++)l=a[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},o=self["webpackChunk_4_todo"]=self["webpackChunk_4_todo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1553)}));o=n.O(o)})();
//# sourceMappingURL=index.f025a3ed.js.map